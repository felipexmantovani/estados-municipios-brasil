$(document).ready(function(){var o=$("#estados"),i=$("#municipios");$.ajax({url:"estados-brasil.json",dataType:"json",type:"GET",success:function(i){$(".qtdEstadosBrasil").text(i.length),$('<option value="">Selecione um estado...</option>').appendTo(o),i.forEach(function(i){$('<option value="'+i.sigla+'">'+i.nome+"</option>").appendTo(o)})},error:function(){alert("Não foi possível carregar os estados.")}}),$.ajax({url:"municipios-brasil.json",dataType:"json",type:"GET",success:function(e){$(".qtdMunicipiosBrasil").text(e.length),o.change(function(){var o=$(this).val(),t=$(this).find("option:selected").text();$(".nomeEstado").text(t),""==o?(i.html("").slideUp(),$(".infos-estado, .bandeira-estado, .infos-municipio").hide()):(i.html("").slideDown(),$(".infos-estado, .bandeira-estado").show(),$(".bandeira-estado").attr("src","images/"+o.toLowerCase()+".png").attr("title","Bandeira - "+t).attr("alt","Bandeira - "+t),$(".infos-municipio").hide(),$('<option value="">Selecione um município...</option>').appendTo(i));var n=0;e.forEach(function(e){o==e.uf&&($('<option value="'+e.nome_municipio+'">'+e.nome_municipio+"</option>").appendTo(i),n++)}),$(".qtdMunicipios").text(n),i.change(function(){var t=i.find("option:selected").text();$(".nomeMunicipio").text(t),$(".codigoIbge, .latitude, .longitude").text(""),$(".infos-municipio").hide(),""==i.val()?$(".carregando").hide():($(".carregando").show(),e.forEach(function(i){o==i.uf&&t==i.nome_municipio&&($(".codigoIbge").text(i.codigo_ibge),$(".latitude").text(i.latitude),$(".longitude").text(i.longitude),$("#link-mapa").attr("href","http://maps.google.com/maps?q="+i.latitude+","+i.longitude))}),$(".carregando").hide(),$(".infos-municipio").show())})})},error:function(){alert("Não foi possível carregar os municípios.")}})});